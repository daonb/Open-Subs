'use strict';

angular.module('app')
  .factory('OPEN_KNESSET', function($resource, $http, SETTINGS) {
    var OPEN_KNESSET = {
      /*
       * use Open_KNESSET.Person to get information on persons
       * for example:
       *   OPEN_KNESSET.Person.get({id: id}, function (person) {
       *        $scope.person = person;
       *      });
       */
      Person: $resource(SETTINGS.oknesset+'/api/v2/person/:id/',
                          {id:'@id'}),
      get_committee: function (id) {
        for (var i=0; i < OPEN_KNESSET.committees.length; i++) {
          if (OPEN_KNESSET.committees[i].id == id)
            return OPEN_KNESSET.committees[i]
        }
        return -1;
      },
      committees: [
    {
        id: 2,
        "absolute_url": "/committee/2/", 
        "description": "\u05d1\u05d4\u05ea\u05d0\u05dd \u05dc\u05e1\u05e2\u05d9\u05e3 13 \u05dc\u05ea\u05e7\u05e0\u05d5\u05df \u05d4\u05db\u05e0\u05e1\u05ea, \u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05e0\u05d9\u05d9\u05e0\u05d9\u05d4 \u05e9\u05dc \u05d5\u05e2\u05d3\u05ea \u05d4\u05db\u05dc\u05db\u05dc\u05d4 \u05d4\u05dd:\r\n\u05de\u05e1\u05d7\u05e8 \u05d5\u05ea\u05e2\u05e9\u05d9\u05d4; \u05d0\u05e1\u05e4\u05e7\u05d4 \u05d5\u05e7\u05d9\u05e6\u05d5\u05d1; \u05d7\u05e7\u05dc\u05d0\u05d5\u05ea \u05d5\u05d3\u05d9\u05d2; \u05ea\u05d7\u05d1\u05d5\u05e8 \u05d4 - \u05e1\u05e4\u05e0\u05d5\u05ea, \u05ea\u05e2\u05d5\u05e4\u05d4 , \u05de\u05e2\u05e8\u05db\u05ea \u05d4\u05db\u05d1\u05d9\u05e9\u05d9\u05dd, \u05ea\u05d7\u05d1\u05d5\u05e8\u05d4 \u05e6\u05d9\u05d1\u05d5\u05e8\u05d9\u05ea, \u05d4\u05e8\u05db\u05d1\u05ea \u05d5\u05d4\u05d1\u05d8\u05d9\u05d7\u05d5\u05ea \u05d1\u05d3\u05e8\u05db\u05d9\u05dd; \u05d0\u05d9\u05d2\u05d5\u05d3 \u05e9\u05d9\u05ea\u05d5\u05e4\u05d9; \u05ea\u05db\u05e0\u05d5\u05df \u05d5\u05ea\u05d9\u05d0\u05d5\u05dd \u05db\u05dc\u05db\u05dc\u05d9; \u05e4\u05d9\u05ea\u05d5\u05d7; \u05d6\u05d9\u05db\u05d9\u05d5\u05e0\u05d5\u05ea \u05d4\u05de\u05d3\u05d9\u05e0\u05d4 \u05d5\u05d0\u05e4\u05d5\u05d8\u05e8\u05d5\u05e4\u05e1\u05d5\u05ea \u05e2\u05dc \u05d4\u05e8\u05db\u05d5\u05e9; \u05e8\u05db\u05d5\u05e9 \u05d4\u05e2\u05e8\u05d1\u05d9\u05dd \u05d4\u05e0\u05e2\u05d3\u05e8\u05d9\u05dd; \u05e8\u05db\u05d5\u05e9 \u05d4\u05d9\u05d4\u05d5\u05d3\u05d9\u05dd \u05de\u05d0\u05e8\u05e6\u05d5\u05ea \u05d4\u05d0\u05d5\u05d9\u05d1; \u05e8\u05db\u05d5\u05e9 \u05d4\u05d9\u05d4\u05d5\u05d3\u05d9\u05dd \u05e9\u05d0\u05d9\u05e0\u05dd \u05d1\u05d7\u05d9\u05d9\u05dd; \u05e2\u05d1\u05d5\u05d3\u05d5\u05ea \u05e6\u05d9\u05d1\u05d5\u05e8\u05d9\u05d5\u05ea \u05d5\u05d1\u05d9\u05e0\u05d5\u05d9 \u05d5\u05e9\u05d9\u05db\u05d5\u05df.\r\n\r\n\u05d1\u05d4\u05ea\u05d0\u05dd \u05dc\u05ea\u05d7\u05d5\u05de\u05d9\u05dd \u05d4\u05d0\u05de\u05d5\u05e8\u05d9\u05dd \u05de\u05d8\u05e4\u05dc\u05ea \u05d5\u05e2\u05d3\u05ea \u05d4\u05db\u05dc\u05db\u05dc\u05d4 \u05d5\u05de\u05e7\u05d9\u05d9\u05de\u05ea \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05e2\u05e0\u05e4\u05d4, \u05d1\u05d9\u05df \u05d4\u05d9\u05ea\u05e8, \u05d1\u05e0\u05d5\u05e9\u05d0\u05d9\u05dd \u05d0\u05dc\u05d4:\r\n\u05d4\u05e6\u05e8\u05db\u05e0\u05d5\u05ea \u05d5\u05d4\u05d2\u05e0\u05ea \u05d4\u05e6\u05e8\u05db\u05df; \u05d4\u05d0\u05e0\u05e8\u05d2\u05d9\u05d4 \u05d5\u05d4\u05ea\u05e9\u05ea\u05d9\u05d5\u05ea - \u05d2\u05d6 (\u05d2\u05e4\"\u05de), \u05d2\u05d6 \u05d8\u05d1\u05e2\u05d9, \u05d3\u05dc\u05e7 \u05d5\u05d7\u05e9\u05de\u05dc; \u05d4\u05ea\u05e7\u05e9\u05d5\u05e8\u05ea - \u05d3\u05d5\u05d0\u05e8, \u05d8\u05dc\u05e4\u05d5\u05e0\u05d9\u05d4 \u05e0\u05d9\u05d9\u05d7\u05ea \u05d5\u05e0\u05d9\u05d9\u05d3\u05ea, \u05e9\u05d9\u05d3\u05d5\u05e8\u05d9 \u05d8\u05dc\u05d5\u05d5\u05d9\u05d6\u05d9\u05d4 \u05d5\u05e8\u05d3\u05d9\u05d5; \u05d4\u05d1\u05e0\u05e7\u05d0\u05d5\u05ea \u05dc\u05de\u05e9\u05e7\u05d9 \u05d4\u05d1\u05d9\u05ea; \u05d4\u05ea\u05d9\u05d9\u05e8\u05d5\u05ea; \u05de\u05d9\u05e0\u05d4\u05dc \u05de\u05e7\u05e8\u05e7\u05e2\u05d9 \u05d9\u05e9\u05e8\u05d0\u05dc; \u05de\u05d9\u05dd \u05d5\u05d1\u05d9\u05d5\u05d1; \u05d6\u05db\u05d5\u05ea \u05d9\u05d5\u05e6\u05e8\u05d9\u05dd \u05d5\u05d1\u05d9\u05ea \u05d3\u05d9\u05df \u05dc\u05ea\u05de\u05dc\u05d5\u05d2\u05d9\u05dd; \u05d4\u05d2\u05d1\u05dc\u05d9\u05dd \u05e2\u05e1\u05e7\u05d9\u05d9\u05dd; \u05d4\u05e4\u05d9\u05e7\u05d3\u05d5\u05df \u05e2\u05dc \u05de\u05db\u05dc\u05d9 \u05d4\u05de\u05e9\u05e7\u05d4 \u05d5\u05ea\u05d0\u05d2\u05d9\u05d3 \u05d4\u05de\u05d7\u05d6\u05d5\u05e8; \u05d4\u05d2\u05d1\u05dc\u05d5\u05ea \u05d4\u05e2\u05d9\u05e9\u05d5\u05df \u05d5\u05e4\u05e8\u05e1\u05d5\u05dd \u05de\u05d5\u05e6\u05e8\u05d9 \u05d4\u05d8\u05d1\u05e7.\r\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05db\u05dc\u05db\u05dc\u05d4", 
        "resource_uri": "/api/v2/committee/2/"
    }, 
    {
      id: 3,
        "absolute_url": "/committee/3/", 
        "description": "\u05e2\u05dc\u05d9\u05d9\u05d4; \u05e7\u05dc\u05d9\u05d8\u05d4; \u05d4\u05d8\u05d9\u05e4\u05d5\u05dc \u05d1\u05d9\u05d5\u05e8\u05d3\u05d9\u05dd; \u05d7\u05d9\u05e0\u05d5\u05da \u05d9\u05d4\u05d5\u05d3\u05d9 \u05d5\u05e6\u05d9\u05d5\u05e0\u05d9 \u05d1\u05d2\u05d5\u05dc\u05d4; \u05de\u05db\u05dc\u05d5\u05dc \u05d4\u05e0\u05d5\u05e9\u05d0\u05d9\u05dd \u05d4\u05e7\u05e9\u05d5\u05e8\u05d9\u05dd \u05d1\u05e2\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd \u05d0\u05dc\u05d4 \u05d5\u05d4\u05e0\u05de\u05e6\u05d0\u05d9\u05dd \u05d1\u05ea\u05d7\u05d5\u05dd \u05d8\u05d9\u05e4\u05d5\u05dc\u05d5 \u05e9\u05dc \u05d4\u05de\u05d5\u05e1\u05d3 \u05dc\u05ea\u05d9\u05d0\u05d5\u05dd \u05d1\u05d9\u05df \u05de\u05de\u05e9\u05dc\u05ea \u05d9\u05e9\u05e8\u05d0\u05dc \u05dc\u05d1\u05d9\u05df \u05d4\u05d4\u05e1\u05ea\u05d3\u05e8\u05d5\u05ea \u05d4\u05e6\u05d9\u05d5\u05e0\u05d9\u05ea \u05d4\u05e2\u05d5\u05dc\u05de\u05d9\u05ea \u05d5\u05d1\u05d9\u05df \u05de\u05de\u05e9\u05dc\u05ea \u05d9\u05e9\u05e8\u05d0\u05dc \u05dc\u05d1\u05d9\u05df \u05d4\u05e1\u05d5\u05db\u05e0\u05d5\u05ea \u05d4\u05d9\u05d4\u05d5\u05d3\u05d9\u05ea.\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05e2\u05dc\u05d9\u05d9\u05d4, \u05d4\u05e7\u05dc\u05d9\u05d8\u05d4 \u05d5\u05d4\u05ea\u05e4\u05d5\u05e6\u05d5\u05ea", 
        "resource_uri": "/api/v2/committee/3/"
    }, 
    {
      id: 4,
        "absolute_url": "/committee/4/", 
        "description": "\u05e9\u05dc\u05d8\u05d5\u05df \u05de\u05e7\u05d5\u05de\u05d9; \u05d1\u05e0\u05d9\u05d9\u05df \u05e2\u05e8\u05d9\u05dd; \u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d9\u05e9\u05e8\u05d0\u05dc \u05d5\u05de\u05e8\u05e9\u05dd \u05d4\u05d0\u05d5\u05db\u05dc\u05d5\u05e1\u05d9\u05df; \u05d0\u05d6\u05e8\u05d7\u05d5\u05ea; \u05e2\u05d9\u05ea\u05d5\u05e0\u05d5\u05ea \u05d5\u05de\u05d5\u05d3\u05d9\u05e2\u05d9\u05df; \u05e2\u05d3\u05d5\u05ea; \u05d0\u05e8\u05d2\u05d5\u05df \u05d4\u05d3\u05ea\u05d5\u05ea \u05e9\u05dc \u05d9\u05d4\u05d5\u05d3\u05d9\u05dd \u05d5\u05e9\u05dc \u05dc\u05d0-\u05d9\u05d4\u05d5\u05d3\u05d9\u05dd; \u05de\u05e9\u05d8\u05e8\u05d4 \u05d5\u05d1\u05ea\u05d9-\u05d4\u05e1\u05d5\u05d4\u05e8; \u05d0\u05d9\u05db\u05d5\u05ea \u05d4\u05e1\u05d1\u05d9\u05d1\u05d4.\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05e4\u05e0\u05d9\u05dd \u05d5\u05d4\u05d2\u05e0\u05ea \u05d4\u05e1\u05d1\u05d9\u05d1\u05d4", 
        "resource_uri": "/api/v2/committee/4/"
    }, 
    {
      id: 5,
        "absolute_url": "/committee/5/", 
        "description": "\u05d3\u05d9\u05d5\u05e0\u05d9 \u05d5\u05e2\u05d3\u05ea \u05d4\u05d7\u05d5\u05e7\u05d4 \u05d7\u05d5\u05e7 \u05d5\u05de\u05e9\u05e4\u05d8 \u05d1\u05d4\u05e6\u05e2\u05d5\u05ea \u05d7\u05e7\u05d9\u05e7\u05d4 \u05d5\u05d4\u05db\u05e0\u05ea\u05df \u05e9\u05dc \u05d4\u05e6\u05e2\u05d5\u05ea \u05d4\u05d7\u05d5\u05e7 \u05dc\u05e9\u05dc\u05d1\u05d9 \u05e7\u05e8\u05d9\u05d0\u05d4 \u05e8\u05d0\u05e9\u05d5\u05e0\u05d4, \u05e9\u05e0\u05d9\u05d4 \u05d5\u05e9\u05dc\u05d9\u05e9\u05d9\u05ea \u05d1\u05de\u05dc\u05d9\u05d0\u05ea \u05d4\u05db\u05e0\u05e1\u05ea\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05d7\u05d5\u05e7\u05d4, \u05d7\u05d5\u05e7 \u05d5\u05de\u05e9\u05e4\u05d8", 
        "resource_uri": "/api/v2/committee/5/"
    }, 
    {
      id: 6,
        "absolute_url": "/committee/6/", 
        "description": "\u05d7\u05d9\u05e0\u05d5\u05da; \u05ea\u05e8\u05d1\u05d5\u05ea; \u05de\u05d3\u05e2; \u05d0\u05de\u05e0\u05d5\u05ea; \u05e9\u05d9\u05d3\u05d5\u05e8; \u05e7\u05d5\u05dc\u05e0\u05d5\u05e2; \u05ea\u05e8\u05d1\u05d5\u05ea \u05d4\u05d2\u05d5\u05e3.\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05d7\u05d9\u05e0\u05d5\u05da, \u05d4\u05ea\u05e8\u05d1\u05d5\u05ea \u05d5\u05d4\u05e1\u05e4\u05d5\u05e8\u05d8", 
        "resource_uri": "/api/v2/committee/6/"
    }, 
    {
      id: 8,
        "absolute_url": "/committee/8/", 
        "description": "\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05de\u05d7\u05e7\u05e8 \u05d5\u05e4\u05d9\u05ea\u05d5\u05d7 \u05d0\u05d6\u05e8\u05d7\u05d9 \u05d1\u05d9\u05e9\u05e8\u05d0\u05dc, \u05d8\u05db\u05e0\u05d5\u05dc\u05d5\u05d2\u05d9\u05d5\u05ea \u05de\u05ea\u05e7\u05d3\u05de\u05d5\u05ea, \u05de\u05d7\u05e7\u05e8 \u05d5\u05e4\u05d9\u05ea\u05d5\u05d7 \u05e1\u05d1\u05d9\u05d1\u05ea\u05d9, \u05de\u05d7\u05e7\u05e8 \u05de\u05d3\u05e2\u05d9 \u05d1\u05d0\u05e7\u05d3\u05de\u05d9\u05d4 \u05d9\u05e9\u05e8\u05d0\u05dc\u05d9\u05ea \u05dc\u05de\u05d3\u05e2\u05d9\u05dd, \u05de\u05d7\u05e7\u05e8 \u05de\u05d3\u05e2\u05d9 \u05e9\u05dc\u05d0 \u05d1\u05de\u05d5\u05e1\u05d3\u05d5\u05ea \u05dc\u05d4\u05e9\u05db\u05dc\u05d4 \u05d2\u05d1\u05d5\u05d4\u05d4, \u05de\u05db\u05d5\u05e0\u05d9 \u05de\u05d7\u05e7\u05e8, \u05de\u05d3\u05e2\u05e0\u05d9\u05dd \u05e8\u05d0\u05e9\u05d9\u05d9\u05dd \u05e9\u05dc \u05db\u05dc\u05dc \u05de\u05e9\u05e8\u05d3\u05d9 \u05d4\u05de\u05de\u05e9\u05dc\u05d4, \u05de\u05d5\u05e2\u05e6\u05d4 \u05dc\u05d0\u05d5\u05de\u05d9\u05ea \u05dc\u05de\u05d7\u05e7\u05e8 \u05d5\u05e4\u05d9\u05ea\u05d5\u05d7, \u05e7\u05e8\u05e0\u05d5\u05ea \u05de\u05d7\u05e7\u05e8, \u05de\u05d9\u05d3\u05e2 \u05d5\u05de\u05d9\u05d7\u05e9\u05d5\u05d1.\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea  \u05d4\u05de\u05d3\u05e2  \u05d5\u05d4\u05d8\u05db\u05e0\u05d5\u05dc\u05d5\u05d2\u05d9\u05d4", 
        "resource_uri": "/api/v2/committee/8/"
    }, 
    {
      id: 9,
        "absolute_url": "/committee/9/", 
        "description": "\u05ea\u05e7\u05e6\u05d9\u05d1 \u05d4\u05de\u05d3\u05d9\u05e0\u05d4; \u05de\u05e1\u05d9\u05dd \u05dc\u05db\u05dc \u05e1\u05d5\u05d2\u05d9\u05d4\u05dd; \u05de\u05db\u05e1 \u05d5\u05d1\u05dc\u05d5; \u05de\u05dc\u05d5\u05d5\u05ea; \u05e2\u05e0\u05d9\u05d9\u05e0\u05d9 \u05de\u05d8\u05d1\u05e2 \u05d7\u05d5\u05e5; \u05d1\u05e0\u05e7\u05d0\u05d5\u05ea \u05d5\u05e9\u05d8\u05e8\u05d9 \u05db\u05e1\u05e3; \u05d4\u05db\u05e0\u05e1\u05d5\u05ea \u05d5\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea \u05d4\u05de\u05d3\u05d9\u05e0\u05d4.\r\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05db\u05e1\u05e4\u05d9\u05dd", 
        "resource_uri": "/api/v2/committee/9/"
    }, 
    {
      id: 10,
        "absolute_url": "/committee/10/", 
        "description": "\u05e2\u05d1\u05d5\u05d3\u05d4; \u05d1\u05d9\u05d8\u05d7\u05d5\u05df \u05e1\u05d5\u05e6\u05d9\u05d0\u05dc\u05d9; \u05dc\u05e8\u05d1\u05d5\u05ea \u05de\u05e2\u05e8\u05db\u05ea \u05d4\u05d1\u05d8\u05d7\u05ea \u05d4\u05db\u05e0\u05e1\u05d4; \u05d4\u05de\u05d5\u05e1\u05d3 \u05dc\u05d1\u05d9\u05d8\u05d5\u05d7 \u05dc\u05d0\u05d5\u05de\u05d9; \u05d1\u05e8\u05d9\u05d0\u05d5\u05ea; \u05e1\u05e2\u05d3; \u05e9\u05d9\u05e7\u05d5\u05dd; \u05e0\u05db\u05d9\u05dd \u05d5\u05e9\u05d9\u05e7\u05d5\u05de\u05dd; \u05dc\u05e8\u05d1\u05d5\u05ea \u05e0\u05db\u05d9 \u05e6\u05d4\u201d\u05dc \u05d5\u05de\u05e9\u05e4\u05d7\u05d5\u05ea \u05e0\u05e4\u05d2\u05e2\u05d9 \u05de\u05dc\u05d7\u05de\u05d4 \u05d5\u05db\u05df \u05e0\u05e4\u05d2\u05e2\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9\u05dd; \u05e2\u05d1\u05e8\u05d9\u05d9\u05e0\u05d9\u05dd \u05e6\u05e2\u05d9\u05e8\u05d9\u05dd; \u05d2\u05de\u05dc\u05d0\u05d5\u05ea \u05d5\u05ea\u05d2\u05de\u05d5\u05dc\u05d9\u05dd; \u05d7\u05d5\u05e7\u05ea \u05d4\u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd \u05dc\u05d7\u05d9\u05d9\u05dc\u05d9\u05dd \u05d5\u05dc\u05de\u05e9\u05e4\u05d7\u05d5\u05ea\u05d9\u05d4\u05dd.\n", 
        "name": "\u05d5\u05e2\u05d3\u05ea \u05d4\u05e2\u05d1\u05d5\u05d3\u05d4, \u05d4\u05e8\u05d5\u05d5\u05d7\u05d4 \u05d5\u05d4\u05d1\u05e8\u05d9\u05d0\u05d5\u05ea", 
        "resource_uri": "/api/v2/committee/10/"
    }, 
    {
      id: 11,
        "absolute_url": "/committee/11/", 
        "description": "\u05e7\u05d9\u05d3\u05d5\u05dd \u05de\u05e2\u05de\u05d3 \u05d4\u05d0\u05e9\u05d4 \u05dc\u05e7\u05e8\u05d0\u05ea \u05e9\u05d5\u05d5\u05d9\u05d5\u05df \u05d1\u05d9\u05d9\u05e6\u05d5\u05d2; \u05d1\u05d7\u05d9\u05e0\u05d5\u05da \u05d5\u05d1\u05de\u05e2\u05de\u05d3 \u05d4\u05d0\u05d9\u05e9\u05d9, \u05d5\u05db\u05df \u05dc\u05de\u05e0\u05d9\u05e2\u05ea \u05d0\u05e4\u05dc\u05d9\u05d4 \u05d1\u05e9\u05dc \u05de\u05d9\u05df \u05d0\u05d5 \u05e0\u05d8\u05d9\u05d9\u05d4 \u05de\u05d9\u05e0\u05d9\u05ea \u05d1\u05db\u05dc \u05d4\u05ea\u05d7\u05d5\u05de\u05d9\u05dd; \u05dc\u05d4\u05e7\u05d8\u05e0\u05ea \u05e4\u05e2\u05e8\u05d9\u05dd \u05d1\u05db\u05dc\u05db\u05dc\u05d4 \u05d5\u05d1\u05e9\u05d5\u05e7 \u05d4\u05e2\u05d1\u05d5\u05d3\u05d4 \u05d5\u05dc\u05de\u05d0\u05d1\u05e7 \u05d1\u05d0\u05dc\u05d9\u05de\u05d5\u05ea \u05db\u05dc\u05e4\u05d9 \u05e0\u05e9\u05d9\u05dd.\r\n", 
        "name": "\u05d5\u05e2\u05d3\u05d4 \u05dc\u05e7\u05d9\u05d3\u05d5\u05dd \u05de\u05e2\u05de\u05d3 \u05d4\u05d0\u05d9\u05e9\u05d4 \u05d5\u05dc\u05e9\u05d5\u05d5\u05d9\u05d5\u05df \u05de\u05d2\u05d3\u05e8\u05d9", 
        "resource_uri": "/api/v2/committee/11/"
    },
    {
      id: 12,
        "absolute_url": "/committee/12/", 
        "description": "\u05d4\u05d9\u05ea\u05e8\u05d9 \u05d4\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d9\u05e9\u05e8\u05d0\u05dc \u05d5\u05d4\u05e9\u05d4\u05d9\u05d9\u05d4 \u05d1\u05d4 \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd \u05d6\u05e8\u05d9\u05dd \u05d7\u05d5\u05e7\u05d9\u05d9\u05dd \u05d5\u05d1\u05dc\u05ea\u05d9 \u05d7\u05d5\u05e7\u05d9\u05d9\u05dd \u05de\u05e2\u05e6\u05e8 \u05d5\u05d2\u05d9\u05e8\u05d5\u05e9 \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd \u05d6\u05e8\u05d9\u05dd \u05d1\u05dc\u05ea\u05d9 \u05d7\u05d5\u05e7\u05d9\u05d9\u05dd \u05d4\u05d9\u05ea\u05e8\u05d9 \u05e2\u05d1\u05d5\u05d3\u05d4 \u05d5\u05e9\u05d9\u05dc\u05d5\u05d1\u05dd \u05d1\u05e2\u05e0\u05e4\u05d9 \u05d4\u05d1\u05e0\u05d9\u05df, \u05d4\u05e1\u05d9\u05e2\u05d5\u05d3, \u05d4\u05d7\u05e7\u05dc\u05d0\u05d5\u05ea, \u05d4\u05ea\u05e2\u05e9\u05d9\u05d4 \u05d5\u05de\u05e1\u05e2\u05d3\u05e0\u05d5\u05ea \u05ea\u05e0\u05d0\u05d9\u05dd \u05e1\u05d5\u05e6\u05d9\u05d0\u05dc\u05d9\u05dd \u05d5\u05d1\u05db\u05dc\u05dc \u05d6\u05d4: \u05d1\u05e8\u05d9\u05d0\u05d5\u05ea, \u05e8\u05d5\u05d5\u05d7\u05d4, \u05d7\u05d9\u05e0\u05d5\u05da, \u05d8\u05d9\u05e4\u05d5\u05dc \u05d4\u05e8\u05e9\u05d5\u05d9\u05d5\u05ea, \u05d8\u05d9\u05e4\u05d5\u05dc \u05d4\u05e2\u05de\u05d5\u05ea\u05d5\u05ea \u05d5\u05e2\u05d5\u05d3.\n\u05d4\u05e2\u05e8\u05d4: \u05e2\u05d1\u05d5\u05d3\u05ea \u05d4\u05d5\u05d5\u05e2\u05d3\u05d4 \u05de\u05ea\u05de\u05e7\u05d3\u05ea \u05d1\u05db\u05dc \u05ea\u05d7\u05d5\u05de\u05d9 \u05e2\u05d9\u05e1\u05d5\u05e7\u05dd, \u05d4\u05df \u05d4\u05ea\u05e0\u05d0\u05d9\u05dd \u05d4\u05e1\u05d5\u05e6\u05d9\u05d0\u05dc\u05d9\u05dd \u05d5\u05d4\u05d7\u05d1\u05e8\u05ea\u05d9\u05d9\u05dd \u05d1\u05d4\u05dd \u05d4\u05dd \u05d7\u05d9\u05d9\u05dd, \u05d4\u05df \u05dc\u05d2\u05d1\u05d9 \u05d4\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd \u05d4\u05d7\u05d5\u05e7\u05d9\u05d9\u05dd \u05d5\u05d4\u05df \u05dc\u05d2\u05d1\u05d9 \u05d4\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd \u05d4\u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9\u05d9\u05dd.\n", 
        "name": "\u05d5\u05e2\u05d3\u05d4 \u05de\u05d9\u05d5\u05d7\u05d3\u05ea \u05dc\u05d1\u05e2\u05d9\u05d9\u05ea \u05d4\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd \u05d4\u05d6\u05e8\u05d9\u05dd", 
        "resource_uri": "/api/v2/committee/12/"
    }, 
    {
      id:15,
        "absolute_url": "/committee/15/", 
        "description": "\u05d4\u05d2\u05e0\u05d4 \u05e2\u05dc \u05d4\u05d9\u05dc\u05d3\u05d9\u05dd \u05d5\u05e7\u05d9\u05d3\u05d5\u05dd \u05de\u05e2\u05de\u05d3 \u05d4\u05d9\u05dc\u05d3\u05d9\u05dd \u05d5\u05d1\u05e0\u05d9 \u05d4\u05e0\u05d5\u05e2\u05e8, \u05d1\u05de\u05d8\u05e8\u05d4 \u05dc\u05de\u05de\u05e9 \u05d0\u05ea \u05d6\u05db\u05d5\u05d9\u05d5\u05ea\u05d9\u05d4\u05dd \u05d1\u05e8\u05d5\u05d7 \u05d4\u05d0\u05de\u05e0\u05d4 \u05d4\u05d1\u05d9\u05e0\u05dc\u05d0\u05d5\u05de\u05d9\u05ea \u05dc\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05d4\u05d9\u05dc\u05d3, \u05dc\u05e8\u05d1\u05d5\u05ea \u05de\u05d9\u05de\u05d5\u05e9 \u05d4\u05e2\u05e7\u05e8\u05d5\u05e0\u05d5\u05ea \u05e9\u05dc \u05d8\u05d5\u05d1\u05ea \u05d4\u05d9\u05dc\u05d3, \u05d0\u05d9-\u05d0\u05e4\u05dc\u05d9\u05d4, \u05d4\u05d6\u05db\u05d5\u05ea \u05dc\u05d4\u05ea\u05e4\u05ea\u05d7\u05d5\u05ea \u05d1\u05ea\u05e0\u05d0\u05d9\u05dd \u05e0\u05d0\u05d5\u05ea\u05d9\u05dd, \u05d5\u05d6\u05db\u05d5\u05ea \u05e9\u05dc \u05d9\u05dc\u05d3\u05d9\u05dd \u05d1\u05e0\u05d9 \u05e0\u05d5\u05e2\u05e8 \u05dc\u05d4\u05e9\u05de\u05d9\u05e2 \u05d0\u05ea \u05d3\u05e2\u05ea\u05dd \u05d5\u05dc\u05d4\u05e9\u05ea\u05ea\u05e3 \u05d1\u05e2\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd \u05d4\u05e0\u05d5\u05d2\u05e2\u05d9\u05dd \u05d1\u05d4\u05dd.\n", 
        "name": "\u05d5\u05e2\u05d3\u05d4 \u05dc\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05d4\u05d9\u05dc\u05d3", 
        "resource_uri": "/api/v2/committee/15/"
    }
      ],
      get_candidates: function (conf) {
        if (typeof conf !== "object") {
          OPEN_KNESSET.candidates = {length: 0};
          OPEN_KNESSET.candidateNames = [];
          conf = { method: 'GET',
           url: SETTINGS.oknesset+'/api/v2/person/',
           params: {roles__org: 'הבחירות לכנסת ה-20'},
           headers: { 'Content-Type': 'application/json'},
           cache: true
          };
        };
        var next = null;
        return $http(conf).success(function (data) {
          // create the local cache
          // if (OPEN_KNESSET.candidates === undefined) {
          var i;
          for (i=0; i < data.objects.length; i++) {
            // create a new candidate, starting with server data
            var c = data.objects[i];
            // add access methods
            c.getImgUrl = function () {
              if (this.img_url !== undefined)
                return this.img_url;
              if (this.mk !== undefined)
                return this.mk.img_url;
            }
            OPEN_KNESSET.candidates[c.id]  = c;
            OPEN_KNESSET.candidateNames.push(c.name);
            OPEN_KNESSET.candidates.length++;
            next = data.meta.next;
          }
          if (data.meta.next !== null)
            return OPEN_KNESSET.get_candidates({method: 'GET',
               url: SETTINGS.oknesset+data.meta.next,
               headers: { 'Content-Type': 'application/json' },
               cache: true
           })
           else
             return OPEN_KNESSET.candidates;
        })
     },
     ready: function () {
       return OPEN_KNESSET.candidates !== undefined;
     }
    };
    return OPEN_KNESSET;
  })
;
